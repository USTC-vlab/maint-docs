# 更新记录

记录我们上线部署新功能（或 bug fix 等）的历史。

编写时请按时间倒序排序，即最新的日期在最上面。有专门的工作记录页面的请把时间链接到对应的页面。

!!! note 旧的记录可能不完整

    本页面于 2020 年 9 月初创建，因此 2020 年 8 月及以前的更新记录是不完整的。尽管编者已从讨论群的聊天记录等地尽可能恢复（补写）出了一些，但许多细节仍然难以保证完整性及准确性。

## 更新记录

### 2021 年

10 月 1 日

:   更新了 01 号镜像，升级了所有软件包，清理了多余的软件包，并将 apt 源换回了科大镜像站。

[8 月 21 日](records/2021-08-21.md)

:   将集群全部升级至 Proxmox VE 7.0

8 月 12 日

:   修复了拥有多个学号或工号的用户通过不同学工号登录时数据不互通的问题。

4 月 11 日

:   通过 Vlab Software 提供了 RISC-V 的 GCC 工具链，以及 RARS 模拟器（已编写 `.desktop` 文件使用 Vlab Software 提供的 JDK 14 运行）

3 月 30 日

:   通过 Vlab Software 提供了 Xilinx Vivado 2016.3 版本，为 2019.1 版本的兼容性问题提供一个备选项。

### 2020 年

11 月 18 日

:   将故障损毁的 CT 100 恢复并重建。

11 月 14 日

:   Vivado 仿真的报错已经在镜像中修复，新创建的虚拟机（ID 大于 2266）不再受此影响。

    在线 VSCode 编程平台开放测试。

10 月 29 日

:   用户可以选择关闭 VNC 登录时显示的加入 QQ 群的通知。

9 月 8 日

:   完成了在容器之间共享实验软件的设计（镜像 01 已经替换为新版本），这可以减少相同的实验软件重复存储的问题，并且将软件放置在 SSD 上，也预期可以提高性能。同时，新创建的容器也支持嵌套容器了。

9 月 5 日

:   虚拟机管理界面的**桌面连接**功能现在可以自动连接对应虚拟机（使用 URL parameters 传递信息）

9 月 3 日

:   SSH 统一登录可以使用了。预计将在一段时间之后关闭旧的登录方式（端口转发），具体时间待定

8 月 4 日

:   基于 Grafana + InfluxDB / MySQL 的用量数据统计页面

[8 月 1 日](records/2020-08-01.md)

:   光纤网络（ens1f0、ens1f1）的 MTU 现在是 1550 字节了

    修复了 pv8 的光纤网络

    noVNC 支持基于浏览器 cookie 的一键登录，减少重复输入用户名密码的麻烦

    配置并打包好了 Ubuntu 20.04 的镜像，暂时以编号 99 提供

[3 月 31 日](records/2020-03-31.md)

:   向 pv0 加装了 32 GB 内存，向 pv2~pv8 加装了 64 GB 内存，向 pv2~pv5 加装了 Netronome Agilio 系列网卡

3 月 25 日

:   2019 年秋季学期提供服务的单台服务器已格式化重装为 Proxmox VE 6.1 操作系统，命名为 pv0

2 月

:   [内网网关（CT 100）](servers/ct100.md)初步配置完成

    [Web 服务器（CT 101）](servers/ct101.md)切换到新的集群中的容器上，2019 年秋季的旧机器暂时闲置

    pdlan 使用 C++ 编写的 VNC 网关测试完成

    网页虚拟机管理器（Django）适配了 Proxmox VE API，删除了 LXC / LXD 相关的代码

    修改了开源软件 noVNC，提供了浏览器登录虚拟机的方式

    重新打包了几个新镜像，供用户在创建虚拟机时选择

    - 经过多番测试，选定了 LightDM + TigerVNC，兼容性最好且最容易配置

    - 测试了 fcitx 与 ibus，配置好了中文输入法

    通过镜像内置 SSH CA 的方式实现容器内远程命令执行

    更新了用户文档项目，更容易编写、阅读体验更好，并且更新了文档内容

    创建了维护者文档（即本文档）

    ……还有更多（当前一代的 vlab 基本都在这个月配置部署完成，时间“久远”难以仔细考证）

### 2019 年

9 月

:   初版 vlab 实验平台在《数字电路实验》课程选定的 30 人左右中进行测试
