# Vlab 第二代服务器集群

## 计算服务器 {#compute-server}

第二代 Vlab 服务器共有 8 台，每台服务器包含双路 Intel Xeon Scalable Silver 4110 处理器（共 16 核心、32 线程），安装内存 160 GB（2 x 16 GB + 4 x 32 GB DDR4 2400 ECC）。硬盘配置为两块 HPE SSD 480GB（RAID 1，系统盘，swap 和缓存）和三块 2.4 TB 10K SAS 硬盘（取出来放进存储服务器的额外硬盘笼）。另有一台存储服务器。

网络方面，这款服务器自带一个四口千兆网卡（系统内名称为 `eno1` 到 `eno4`），一个百兆口连接 HPE iLO 5（即 HPE 的 IPMI 远程管理卡）。另外每台服务器扩展了两个 10 Gbps 的光纤接口（分别为 `ens1f0` 和 `ens1f1`），通过一个光交换机在所有计算服务器和存储服务器的 iSCSI 端口实现一个内网互联。

## 操作系统 {#operating-system}

这批服务器全部安装 [Proxmox VE](https://pve.proxmox.com/) 6.x 的系统，基于 Debian 10。

## 存储服务器 {#storage-server}

存储服务器为 HPE MSA 1050，有 24 个 2.5 寸 SAS 盘位和两个 iSCSI 控制器。购买时带有 18 块 1.2 TB 的硬盘，后来邢凯老师提供了一个额外的硬盘笼，扩展了 24 个盘位，正好放下 8 台计算服务器各自带的 3 块机械硬盘。

该存储服务器有两个控制器，每个控制器各有一个以太网口（用于管理界面）和一个光纤接口（10 Gbps，用于数据传输）。目前两个控制器的管理接口都直连在 pv1 上（eno3 和 eno4），地址分别为 10.0.0.2 (eno3) 和 10.0.0.3 (eno4)。

## 机房 {#location}

机房在电三楼 524，所有设备都在同一个机柜中，上面贴有标签。从下往上分别为：

- 存储服务器的两个硬盘笼（标签 ==VLAB S0== 和 ==VLAB S1==）
- 八台计算服务器，主机名为 pv1, pv2 到 pv8，标签为 ==VLAB 1== 到 ==VLAB 8==
- 机房的网线接口

机柜背后最上方是华为的光交换机，参见[网络配置](../networking)。
